[
  {
    "objectID": "Project 1.html",
    "href": "Project 1.html",
    "title": "Project 1",
    "section": "",
    "text": "library(tidyverse)\n\nWarning: package 'tidyverse' was built under R version 4.4.3\n\n\nWarning: package 'ggplot2' was built under R version 4.4.3\n\n\nWarning: package 'tibble' was built under R version 4.4.3\n\n\nWarning: package 'tidyr' was built under R version 4.4.3\n\n\nWarning: package 'readr' was built under R version 4.4.3\n\n\nWarning: package 'purrr' was built under R version 4.4.3\n\n\nWarning: package 'dplyr' was built under R version 4.4.3\n\n\nWarning: package 'stringr' was built under R version 4.4.3\n\n\nWarning: package 'forcats' was built under R version 4.4.3\n\n\nWarning: package 'lubridate' was built under R version 4.4.3\n\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.5.1     ✔ tibble    3.2.1\n✔ lubridate 1.9.4     ✔ tidyr     1.3.1\n✔ purrr     1.0.4     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\nlibrary(readr)\nEDU01A &lt;-read_csv(\"data/EDU01a.csv\")\n\nRows: 3198 Columns: 42\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (22): Area_name, STCOU, EDU010187N1, EDU010187N2, EDU010188N1, EDU010188...\ndbl (20): EDU010187F, EDU010187D, EDU010188F, EDU010188D, EDU010189F, EDU010...\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\nEDU01A |&gt;\n  select(Area_name, STCOU, ends_with(\"D\")) |&gt;\n  rename(area_name = Area_name) |&gt;\n  head(EDU01A, n=5)\n\n# A tibble: 5 × 12\n  area_name     STCOU EDU010187D EDU010188D EDU010189D EDU010190D EDU010191D\n  &lt;chr&gt;         &lt;chr&gt;      &lt;dbl&gt;      &lt;dbl&gt;      &lt;dbl&gt;      &lt;dbl&gt;      &lt;dbl&gt;\n1 UNITED STATES 00000   40024299   39967624   40317775   40737600   41385442\n2 ALABAMA       01000     733735     728234     730048     728252     725541\n3 Autauga, AL   01001       6829       6900       6920       6847       7008\n4 Baldwin, AL   01003      16417      16465      16799      17054      17479\n5 Barbour, AL   01005       5071       5098       5068       5156       5173\n# ℹ 5 more variables: EDU010192D &lt;dbl&gt;, EDU010193D &lt;dbl&gt;, EDU010194D &lt;dbl&gt;,\n#   EDU010195D &lt;dbl&gt;, EDU010196D &lt;dbl&gt;"
  },
  {
    "objectID": "Project 1.html#data-processing",
    "href": "Project 1.html#data-processing",
    "title": "Project 1",
    "section": "",
    "text": "library(tidyverse)\n\nWarning: package 'tidyverse' was built under R version 4.4.3\n\n\nWarning: package 'ggplot2' was built under R version 4.4.3\n\n\nWarning: package 'tibble' was built under R version 4.4.3\n\n\nWarning: package 'tidyr' was built under R version 4.4.3\n\n\nWarning: package 'readr' was built under R version 4.4.3\n\n\nWarning: package 'purrr' was built under R version 4.4.3\n\n\nWarning: package 'dplyr' was built under R version 4.4.3\n\n\nWarning: package 'stringr' was built under R version 4.4.3\n\n\nWarning: package 'forcats' was built under R version 4.4.3\n\n\nWarning: package 'lubridate' was built under R version 4.4.3\n\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.5.1     ✔ tibble    3.2.1\n✔ lubridate 1.9.4     ✔ tidyr     1.3.1\n✔ purrr     1.0.4     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\nlibrary(readr)\nEDU01A &lt;-read_csv(\"data/EDU01a.csv\")\n\nRows: 3198 Columns: 42\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (22): Area_name, STCOU, EDU010187N1, EDU010187N2, EDU010188N1, EDU010188...\ndbl (20): EDU010187F, EDU010187D, EDU010188F, EDU010188D, EDU010189F, EDU010...\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\nEDU01A |&gt;\n  select(Area_name, STCOU, ends_with(\"D\")) |&gt;\n  rename(area_name = Area_name) |&gt;\n  head(EDU01A, n=5)\n\n# A tibble: 5 × 12\n  area_name     STCOU EDU010187D EDU010188D EDU010189D EDU010190D EDU010191D\n  &lt;chr&gt;         &lt;chr&gt;      &lt;dbl&gt;      &lt;dbl&gt;      &lt;dbl&gt;      &lt;dbl&gt;      &lt;dbl&gt;\n1 UNITED STATES 00000   40024299   39967624   40317775   40737600   41385442\n2 ALABAMA       01000     733735     728234     730048     728252     725541\n3 Autauga, AL   01001       6829       6900       6920       6847       7008\n4 Baldwin, AL   01003      16417      16465      16799      17054      17479\n5 Barbour, AL   01005       5071       5098       5068       5156       5173\n# ℹ 5 more variables: EDU010192D &lt;dbl&gt;, EDU010193D &lt;dbl&gt;, EDU010194D &lt;dbl&gt;,\n#   EDU010195D &lt;dbl&gt;, EDU010196D &lt;dbl&gt;"
  },
  {
    "objectID": "Project 1.html#call-it-and-combine-your-data",
    "href": "Project 1.html#call-it-and-combine-your-data",
    "title": "Project 1",
    "section": "Call It and Combine Your Data",
    "text": "Call It and Combine Your Data"
  },
  {
    "objectID": "Project 1.html#writing-a-generic-function-for-summarizing",
    "href": "Project 1.html#writing-a-generic-function-for-summarizing",
    "title": "Project 1",
    "section": "Writing a Generic Function for Summarizing",
    "text": "Writing a Generic Function for Summarizing"
  },
  {
    "objectID": "Project 1.html#put-it-together",
    "href": "Project 1.html#put-it-together",
    "title": "Project 1",
    "section": "Put It Together",
    "text": "Put It Together"
  },
  {
    "objectID": "Project 1.html#question-2-convert-to-long-format",
    "href": "Project 1.html#question-2-convert-to-long-format",
    "title": "Project 1",
    "section": "Question 2 Convert to long format",
    "text": "Question 2 Convert to long format\n\nEDU01A_long&lt;-\n  EDU01A |&gt;\n  select(Area_name, STCOU, ends_with(\"D\")) |&gt;\n  rename(area_name = Area_name) |&gt;\n  pivot_longer(cols= ends_with(\"D\"),\n               names_to = \"EDU_combined\",\n               values_to = \"enrollment_value\"\n               ) \n  head(EDU01A_long, n=5)\n\n# A tibble: 5 × 4\n  area_name     STCOU EDU_combined enrollment_value\n  &lt;chr&gt;         &lt;chr&gt; &lt;chr&gt;                   &lt;dbl&gt;\n1 UNITED STATES 00000 EDU010187D           40024299\n2 UNITED STATES 00000 EDU010188D           39967624\n3 UNITED STATES 00000 EDU010189D           40317775\n4 UNITED STATES 00000 EDU010190D           40737600\n5 UNITED STATES 00000 EDU010191D           41385442"
  },
  {
    "objectID": "Project 1.html#question-3-parsing",
    "href": "Project 1.html#question-3-parsing",
    "title": "Project 1",
    "section": "Question 3 Parsing",
    "text": "Question 3 Parsing\n\nEDU01A_longer &lt;-\n  EDU01A_long |&gt;\n  mutate(two_digit_year= (substr(EDU_combined, start=8, stop = 9)) ,\n  year_dbl = as.double(two_digit_year), \n  year= if_else(year_dbl &gt;25, 1900 + year_dbl, year_dbl &lt;=25 + 2000),\n  survey_value = substr(EDU_combined, start=1, stop = 7)\n         )\nEDU01A_longer\n\n# A tibble: 31,980 × 8\n   area_name   STCOU EDU_combined enrollment_value two_digit_year year_dbl  year\n   &lt;chr&gt;       &lt;chr&gt; &lt;chr&gt;                   &lt;dbl&gt; &lt;chr&gt;             &lt;dbl&gt; &lt;dbl&gt;\n 1 UNITED STA… 00000 EDU010187D           40024299 87                   87  1987\n 2 UNITED STA… 00000 EDU010188D           39967624 88                   88  1988\n 3 UNITED STA… 00000 EDU010189D           40317775 89                   89  1989\n 4 UNITED STA… 00000 EDU010190D           40737600 90                   90  1990\n 5 UNITED STA… 00000 EDU010191D           41385442 91                   91  1991\n 6 UNITED STA… 00000 EDU010192D           42088151 92                   92  1992\n 7 UNITED STA… 00000 EDU010193D           42724710 93                   93  1993\n 8 UNITED STA… 00000 EDU010194D           43369917 94                   94  1994\n 9 UNITED STA… 00000 EDU010195D           43993459 95                   95  1995\n10 UNITED STA… 00000 EDU010196D           44715737 96                   96  1996\n# ℹ 31,970 more rows\n# ℹ 1 more variable: survey_value &lt;chr&gt;\n\nlong_updated &lt;- select(EDU01A_longer, area_name,STCOU, enrollment_value,year, survey_value)\n\nhead(long_updated, n=5)\n\n# A tibble: 5 × 5\n  area_name     STCOU enrollment_value  year survey_value\n  &lt;chr&gt;         &lt;chr&gt;            &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;       \n1 UNITED STATES 00000         40024299  1987 EDU0101     \n2 UNITED STATES 00000         39967624  1988 EDU0101     \n3 UNITED STATES 00000         40317775  1989 EDU0101     \n4 UNITED STATES 00000         40737600  1990 EDU0101     \n5 UNITED STATES 00000         41385442  1991 EDU0101"
  },
  {
    "objectID": "Project 1.html#question-4-two-tibbles",
    "href": "Project 1.html#question-4-two-tibbles",
    "title": "Project 1",
    "section": "Question 4 Two Tibbles",
    "text": "Question 4 Two Tibbles\n\nCounty_indices &lt;- grep(pattern = \", [A-Z]{2}\", long_updated$area_name)\nnoncounty_tibble &lt;- long_updated [-County_indices, ]\ncounty_tibble &lt;- long_updated [County_indices, ]\n\nclass(county_tibble) &lt;- c(\"county\", class(county_tibble))\nclass(noncounty_tibble) &lt;- c(\"state\", class(noncounty_tibble))\n\nhead(county_tibble, n=10)\n\n# A tibble: 10 × 5\n   area_name   STCOU enrollment_value  year survey_value\n   &lt;chr&gt;       &lt;chr&gt;            &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;       \n 1 Autauga, AL 01001             6829  1987 EDU0101     \n 2 Autauga, AL 01001             6900  1988 EDU0101     \n 3 Autauga, AL 01001             6920  1989 EDU0101     \n 4 Autauga, AL 01001             6847  1990 EDU0101     \n 5 Autauga, AL 01001             7008  1991 EDU0101     \n 6 Autauga, AL 01001             7137  1992 EDU0101     \n 7 Autauga, AL 01001             7152  1993 EDU0101     \n 8 Autauga, AL 01001             7381  1994 EDU0101     \n 9 Autauga, AL 01001             7568  1995 EDU0101     \n10 Autauga, AL 01001             7834  1996 EDU0101     \n\nhead(noncounty_tibble, n=10)\n\n# A tibble: 10 × 5\n   area_name     STCOU enrollment_value  year survey_value\n   &lt;chr&gt;         &lt;chr&gt;            &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;       \n 1 UNITED STATES 00000         40024299  1987 EDU0101     \n 2 UNITED STATES 00000         39967624  1988 EDU0101     \n 3 UNITED STATES 00000         40317775  1989 EDU0101     \n 4 UNITED STATES 00000         40737600  1990 EDU0101     \n 5 UNITED STATES 00000         41385442  1991 EDU0101     \n 6 UNITED STATES 00000         42088151  1992 EDU0101     \n 7 UNITED STATES 00000         42724710  1993 EDU0101     \n 8 UNITED STATES 00000         43369917  1994 EDU0101     \n 9 UNITED STATES 00000         43993459  1995 EDU0101     \n10 UNITED STATES 00000         44715737  1996 EDU0101"
  },
  {
    "objectID": "Project 1.html#question-5-county-level-new-variable",
    "href": "Project 1.html#question-5-county-level-new-variable",
    "title": "Project 1",
    "section": "Question 5 County level new variable",
    "text": "Question 5 County level new variable\n\ncounty_tibble |&gt;\nmutate(state = substr(area_name, nchar(area_name) - 1, nchar(area_name))\n)\n\n# A tibble: 31,450 × 6\n   area_name   STCOU enrollment_value  year survey_value state\n   &lt;chr&gt;       &lt;chr&gt;            &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;        &lt;chr&gt;\n 1 Autauga, AL 01001             6829  1987 EDU0101      AL   \n 2 Autauga, AL 01001             6900  1988 EDU0101      AL   \n 3 Autauga, AL 01001             6920  1989 EDU0101      AL   \n 4 Autauga, AL 01001             6847  1990 EDU0101      AL   \n 5 Autauga, AL 01001             7008  1991 EDU0101      AL   \n 6 Autauga, AL 01001             7137  1992 EDU0101      AL   \n 7 Autauga, AL 01001             7152  1993 EDU0101      AL   \n 8 Autauga, AL 01001             7381  1994 EDU0101      AL   \n 9 Autauga, AL 01001             7568  1995 EDU0101      AL   \n10 Autauga, AL 01001             7834  1996 EDU0101      AL   \n# ℹ 31,440 more rows"
  },
  {
    "objectID": "Project 1.html#question-6-non-county-division",
    "href": "Project 1.html#question-6-non-county-division",
    "title": "Project 1",
    "section": "Question 6 Non-county “division”",
    "text": "Question 6 Non-county “division”\n\nnoncounty_tibble |&gt;\n  mutate(division = if_else (area_name %in% state.name,\n  state.division [match(area_name, state.name)], \"ERROR\")\n  )\n\n# A tibble: 530 × 6\n   area_name     STCOU enrollment_value  year survey_value division\n   &lt;chr&gt;         &lt;chr&gt;            &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;        &lt;chr&gt;   \n 1 UNITED STATES 00000         40024299  1987 EDU0101      ERROR   \n 2 UNITED STATES 00000         39967624  1988 EDU0101      ERROR   \n 3 UNITED STATES 00000         40317775  1989 EDU0101      ERROR   \n 4 UNITED STATES 00000         40737600  1990 EDU0101      ERROR   \n 5 UNITED STATES 00000         41385442  1991 EDU0101      ERROR   \n 6 UNITED STATES 00000         42088151  1992 EDU0101      ERROR   \n 7 UNITED STATES 00000         42724710  1993 EDU0101      ERROR   \n 8 UNITED STATES 00000         43369917  1994 EDU0101      ERROR   \n 9 UNITED STATES 00000         43993459  1995 EDU0101      ERROR   \n10 UNITED STATES 00000         44715737  1996 EDU0101      ERROR   \n# ℹ 520 more rows\n\n\n\nFunction for Steps 1 and 2\n\nlibrary(tidyverse)\n\n\nreadData &lt;- function(filepath, columns= \"!area_name & !STCOU\") {\n  data2 &lt;- read.csv(filepath)\n  filterdata &lt;- select(data2, c(area_name = \"Area_name\", \"STCOU\"), ends_with(\"D\"))\n  long_data &lt;- pivot_longer(filterdata, cols = (!area_name & !STCOU), names_to = \"EDU_combined\", values_to = \"enrollment_value\")\n}\n\n\nresult2 &lt;- readData(\"./data/EDU01b.csv\")\nhead(result2, 5)\n\n# A tibble: 5 × 4\n  area_name     STCOU EDU_combined enrollment_value\n  &lt;chr&gt;         &lt;int&gt; &lt;chr&gt;                   &lt;int&gt;\n1 UNITED STATES     0 EDU010197D           44534459\n2 UNITED STATES     0 EDU010198D           46245814\n3 UNITED STATES     0 EDU010199D           46368903\n4 UNITED STATES     0 EDU010200D           46818690\n5 UNITED STATES     0 EDU010201D           47127066\n\n\n\n\nFunction for Step 3\n\ndataYear &lt;- function(step2) {\n  long_updated = mutate(step2, year_dbl= as.double(substr(EDU_combined, start=8, stop = 9)),\n  year = if_else(year_dbl &gt; 25, 1900 + year_dbl, 2000 + year_dbl),\n  survey_value = substr(EDU_combined, start=1, stop = 7)\n         )\n  long_updated &lt;- subset(long_updated, select = -year_dbl)\n}\n\n\nresult3 &lt;- dataYear(result2)\nhead(result3, 5)\n\n# A tibble: 5 × 6\n  area_name     STCOU EDU_combined enrollment_value  year survey_value\n  &lt;chr&gt;         &lt;int&gt; &lt;chr&gt;                   &lt;int&gt; &lt;dbl&gt; &lt;chr&gt;       \n1 UNITED STATES     0 EDU010197D           44534459  1997 EDU0101     \n2 UNITED STATES     0 EDU010198D           46245814  1998 EDU0101     \n3 UNITED STATES     0 EDU010199D           46368903  1999 EDU0101     \n4 UNITED STATES     0 EDU010200D           46818690  2000 EDU0102     \n5 UNITED STATES     0 EDU010201D           47127066  2001 EDU0102     \n\n\n\n\nFunction for Step 5\n\nstate_function &lt;- function(county_tibble){\n  mutate(state = substr(area_name, nchar(area_name) - 1, nchar(area_name))\n         )\n}\n\n\n\nFunction for Step 6\n\ndivision_function &lt;- function(noncounty_tibble) {\n  mutate(division = if_else (area_name %in% state.name,\n                             state.division [match(area_name, state.name)],\n                             \"ERROR\")\n  )\n}\n\n\n\nFunction for Step 4\n\ncreate_datasets &lt;- function(long_data) {\n  County_indices &lt;- grep(pattern = \", [A-Z]{2}\", long_updated$area_name)\n  noncounty_tibble &lt;- long_updated[-County_indices, ]\n  county_tibble &lt;- long_updated[County_indices, ]\n  class(county_tibble) &lt;- c(\"county\", class(county_tibble))\n  class(noncounty_tibble) &lt;- c(\"state\", class(noncounty_tibble))\n  return(list(county_tibble, noncounty_tibble))\n}\n\n\nresult4 &lt;- create_datasets(result3)\nresult4\n\n[[1]]\n# A tibble: 31,450 × 5\n   area_name   STCOU enrollment_value  year survey_value\n   &lt;chr&gt;       &lt;chr&gt;            &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;       \n 1 Autauga, AL 01001             6829  1987 EDU0101     \n 2 Autauga, AL 01001             6900  1988 EDU0101     \n 3 Autauga, AL 01001             6920  1989 EDU0101     \n 4 Autauga, AL 01001             6847  1990 EDU0101     \n 5 Autauga, AL 01001             7008  1991 EDU0101     \n 6 Autauga, AL 01001             7137  1992 EDU0101     \n 7 Autauga, AL 01001             7152  1993 EDU0101     \n 8 Autauga, AL 01001             7381  1994 EDU0101     \n 9 Autauga, AL 01001             7568  1995 EDU0101     \n10 Autauga, AL 01001             7834  1996 EDU0101     \n# ℹ 31,440 more rows\n\n[[2]]\n# A tibble: 530 × 5\n   area_name     STCOU enrollment_value  year survey_value\n   &lt;chr&gt;         &lt;chr&gt;            &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;       \n 1 UNITED STATES 00000         40024299  1987 EDU0101     \n 2 UNITED STATES 00000         39967624  1988 EDU0101     \n 3 UNITED STATES 00000         40317775  1989 EDU0101     \n 4 UNITED STATES 00000         40737600  1990 EDU0101     \n 5 UNITED STATES 00000         41385442  1991 EDU0101     \n 6 UNITED STATES 00000         42088151  1992 EDU0101     \n 7 UNITED STATES 00000         42724710  1993 EDU0101     \n 8 UNITED STATES 00000         43369917  1994 EDU0101     \n 9 UNITED STATES 00000         43993459  1995 EDU0101     \n10 UNITED STATES 00000         44715737  1996 EDU0101     \n# ℹ 520 more rows\n\n\n\n\nWrapper Function\n\nmy_wrapper &lt;- function(url, value = \"Enrollment Value\"){\n  result &lt;- read_csv(url) |&gt;\n  readData(value = value) |&gt;\n  dataYear() |&gt;\n  create_datasets()\n  return(result)\n}"
  },
  {
    "objectID": "Prjt 1 pdf.html",
    "href": "Prjt 1 pdf.html",
    "title": "Project 1",
    "section": "",
    "text": "library(tidyverse)\n\nWarning: package 'tidyverse' was built under R version 4.4.3\n\n\nWarning: package 'ggplot2' was built under R version 4.4.3\n\n\nWarning: package 'tibble' was built under R version 4.4.3\n\n\nWarning: package 'tidyr' was built under R version 4.4.3\n\n\nWarning: package 'readr' was built under R version 4.4.3\n\n\nWarning: package 'purrr' was built under R version 4.4.3\n\n\nWarning: package 'dplyr' was built under R version 4.4.3\n\n\nWarning: package 'stringr' was built under R version 4.4.3\n\n\nWarning: package 'forcats' was built under R version 4.4.3\n\n\nWarning: package 'lubridate' was built under R version 4.4.3\n\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.5.1     ✔ tibble    3.2.1\n✔ lubridate 1.9.4     ✔ tidyr     1.3.1\n✔ purrr     1.0.4     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\nlibrary(readr)\nEDU01A &lt;-read_csv(\"data/EDU01A.csv\")\n\nRows: 3198 Columns: 42\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (22): Area_name, STCOU, EDU010187N1, EDU010187N2, EDU010188N1, EDU010188...\ndbl (20): EDU010187F, EDU010187D, EDU010188F, EDU010188D, EDU010189F, EDU010...\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\nEDU01A |&gt;\n  select(Area_name, STCOU, ends_with(\"D\")) |&gt;\n  rename(area_name = Area_name) |&gt;\n  head(EDU01A, n=5)\n\n# A tibble: 5 × 12\n  area_name     STCOU EDU010187D EDU010188D EDU010189D EDU010190D EDU010191D\n  &lt;chr&gt;         &lt;chr&gt;      &lt;dbl&gt;      &lt;dbl&gt;      &lt;dbl&gt;      &lt;dbl&gt;      &lt;dbl&gt;\n1 UNITED STATES 00000   40024299   39967624   40317775   40737600   41385442\n2 ALABAMA       01000     733735     728234     730048     728252     725541\n3 Autauga, AL   01001       6829       6900       6920       6847       7008\n4 Baldwin, AL   01003      16417      16465      16799      17054      17479\n5 Barbour, AL   01005       5071       5098       5068       5156       5173\n# ℹ 5 more variables: EDU010192D &lt;dbl&gt;, EDU010193D &lt;dbl&gt;, EDU010194D &lt;dbl&gt;,\n#   EDU010195D &lt;dbl&gt;, EDU010196D &lt;dbl&gt;"
  },
  {
    "objectID": "Prjt 1 pdf.html#question-1-reading-in-and-selecting-data",
    "href": "Prjt 1 pdf.html#question-1-reading-in-and-selecting-data",
    "title": "Project 1",
    "section": "",
    "text": "library(tidyverse)\n\nWarning: package 'tidyverse' was built under R version 4.4.3\n\n\nWarning: package 'ggplot2' was built under R version 4.4.3\n\n\nWarning: package 'tibble' was built under R version 4.4.3\n\n\nWarning: package 'tidyr' was built under R version 4.4.3\n\n\nWarning: package 'readr' was built under R version 4.4.3\n\n\nWarning: package 'purrr' was built under R version 4.4.3\n\n\nWarning: package 'dplyr' was built under R version 4.4.3\n\n\nWarning: package 'stringr' was built under R version 4.4.3\n\n\nWarning: package 'forcats' was built under R version 4.4.3\n\n\nWarning: package 'lubridate' was built under R version 4.4.3\n\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.5.1     ✔ tibble    3.2.1\n✔ lubridate 1.9.4     ✔ tidyr     1.3.1\n✔ purrr     1.0.4     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\nlibrary(readr)\nEDU01A &lt;-read_csv(\"data/EDU01A.csv\")\n\nRows: 3198 Columns: 42\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (22): Area_name, STCOU, EDU010187N1, EDU010187N2, EDU010188N1, EDU010188...\ndbl (20): EDU010187F, EDU010187D, EDU010188F, EDU010188D, EDU010189F, EDU010...\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\nEDU01A |&gt;\n  select(Area_name, STCOU, ends_with(\"D\")) |&gt;\n  rename(area_name = Area_name) |&gt;\n  head(EDU01A, n=5)\n\n# A tibble: 5 × 12\n  area_name     STCOU EDU010187D EDU010188D EDU010189D EDU010190D EDU010191D\n  &lt;chr&gt;         &lt;chr&gt;      &lt;dbl&gt;      &lt;dbl&gt;      &lt;dbl&gt;      &lt;dbl&gt;      &lt;dbl&gt;\n1 UNITED STATES 00000   40024299   39967624   40317775   40737600   41385442\n2 ALABAMA       01000     733735     728234     730048     728252     725541\n3 Autauga, AL   01001       6829       6900       6920       6847       7008\n4 Baldwin, AL   01003      16417      16465      16799      17054      17479\n5 Barbour, AL   01005       5071       5098       5068       5156       5173\n# ℹ 5 more variables: EDU010192D &lt;dbl&gt;, EDU010193D &lt;dbl&gt;, EDU010194D &lt;dbl&gt;,\n#   EDU010195D &lt;dbl&gt;, EDU010196D &lt;dbl&gt;"
  },
  {
    "objectID": "Prjt 1 pdf.html#question-2-convert-to-long-format",
    "href": "Prjt 1 pdf.html#question-2-convert-to-long-format",
    "title": "Project 1",
    "section": "Question 2 Convert to long format",
    "text": "Question 2 Convert to long format\n\nEDU01A_long&lt;-\n  EDU01A |&gt;\n  select(Area_name, STCOU, ends_with(\"D\")) |&gt;\n  rename(area_name = Area_name) |&gt;\n  pivot_longer(cols= ends_with(\"D\"),\n               names_to = \"EDU_combined\",\n               values_to = \"enrollment_value\"\n               ) \n  head(EDU01A_long, n=5)\n\n# A tibble: 5 × 4\n  area_name     STCOU EDU_combined enrollment_value\n  &lt;chr&gt;         &lt;chr&gt; &lt;chr&gt;                   &lt;dbl&gt;\n1 UNITED STATES 00000 EDU010187D           40024299\n2 UNITED STATES 00000 EDU010188D           39967624\n3 UNITED STATES 00000 EDU010189D           40317775\n4 UNITED STATES 00000 EDU010190D           40737600\n5 UNITED STATES 00000 EDU010191D           41385442"
  },
  {
    "objectID": "Prjt 1 pdf.html#question-3-parsing",
    "href": "Prjt 1 pdf.html#question-3-parsing",
    "title": "Project 1",
    "section": "Question 3 Parsing",
    "text": "Question 3 Parsing\n\nEDU01A_longer &lt;-\n  EDU01A_long |&gt;\n  mutate(two_digit_year= (substr(EDU_combined, start=8, stop = 9)) ,\n  year_dbl = as.double(two_digit_year), \n  year= if_else(year_dbl &gt;25, 1900 + year_dbl, year_dbl &lt;=25 + 2000),\n  survey_value = substr(EDU_combined, start=1, stop = 7)\n         )\nEDU01A_longer\n\n# A tibble: 31,980 × 8\n   area_name   STCOU EDU_combined enrollment_value two_digit_year year_dbl  year\n   &lt;chr&gt;       &lt;chr&gt; &lt;chr&gt;                   &lt;dbl&gt; &lt;chr&gt;             &lt;dbl&gt; &lt;dbl&gt;\n 1 UNITED STA… 00000 EDU010187D           40024299 87                   87  1987\n 2 UNITED STA… 00000 EDU010188D           39967624 88                   88  1988\n 3 UNITED STA… 00000 EDU010189D           40317775 89                   89  1989\n 4 UNITED STA… 00000 EDU010190D           40737600 90                   90  1990\n 5 UNITED STA… 00000 EDU010191D           41385442 91                   91  1991\n 6 UNITED STA… 00000 EDU010192D           42088151 92                   92  1992\n 7 UNITED STA… 00000 EDU010193D           42724710 93                   93  1993\n 8 UNITED STA… 00000 EDU010194D           43369917 94                   94  1994\n 9 UNITED STA… 00000 EDU010195D           43993459 95                   95  1995\n10 UNITED STA… 00000 EDU010196D           44715737 96                   96  1996\n# ℹ 31,970 more rows\n# ℹ 1 more variable: survey_value &lt;chr&gt;\n\nlong_updated &lt;- select(EDU01A_longer, area_name,STCOU, enrollment_value,year, survey_value)\n\nhead(long_updated, n=5)\n\n# A tibble: 5 × 5\n  area_name     STCOU enrollment_value  year survey_value\n  &lt;chr&gt;         &lt;chr&gt;            &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;       \n1 UNITED STATES 00000         40024299  1987 EDU0101     \n2 UNITED STATES 00000         39967624  1988 EDU0101     \n3 UNITED STATES 00000         40317775  1989 EDU0101     \n4 UNITED STATES 00000         40737600  1990 EDU0101     \n5 UNITED STATES 00000         41385442  1991 EDU0101"
  },
  {
    "objectID": "Prjt 1 pdf.html#question-4-two-tibbles",
    "href": "Prjt 1 pdf.html#question-4-two-tibbles",
    "title": "Project 1",
    "section": "Question 4 Two Tibbles",
    "text": "Question 4 Two Tibbles\n\nCounty_indices &lt;- grep(pattern = \", [A-Z]{2}\", long_updated$area_name)\nnoncounty_tibble &lt;- long_updated [-County_indices, ]\ncounty_tibble &lt;- long_updated [County_indices, ]\n\nclass(county_tibble) &lt;- c(\"county\", class(county_tibble))\nclass(noncounty_tibble) &lt;- c(\"state\", class(noncounty_tibble))\n\nhead(county_tibble, n=10)\n\n# A tibble: 10 × 5\n   area_name   STCOU enrollment_value  year survey_value\n   &lt;chr&gt;       &lt;chr&gt;            &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;       \n 1 Autauga, AL 01001             6829  1987 EDU0101     \n 2 Autauga, AL 01001             6900  1988 EDU0101     \n 3 Autauga, AL 01001             6920  1989 EDU0101     \n 4 Autauga, AL 01001             6847  1990 EDU0101     \n 5 Autauga, AL 01001             7008  1991 EDU0101     \n 6 Autauga, AL 01001             7137  1992 EDU0101     \n 7 Autauga, AL 01001             7152  1993 EDU0101     \n 8 Autauga, AL 01001             7381  1994 EDU0101     \n 9 Autauga, AL 01001             7568  1995 EDU0101     \n10 Autauga, AL 01001             7834  1996 EDU0101     \n\nhead(noncounty_tibble, n=10)\n\n# A tibble: 10 × 5\n   area_name     STCOU enrollment_value  year survey_value\n   &lt;chr&gt;         &lt;chr&gt;            &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;       \n 1 UNITED STATES 00000         40024299  1987 EDU0101     \n 2 UNITED STATES 00000         39967624  1988 EDU0101     \n 3 UNITED STATES 00000         40317775  1989 EDU0101     \n 4 UNITED STATES 00000         40737600  1990 EDU0101     \n 5 UNITED STATES 00000         41385442  1991 EDU0101     \n 6 UNITED STATES 00000         42088151  1992 EDU0101     \n 7 UNITED STATES 00000         42724710  1993 EDU0101     \n 8 UNITED STATES 00000         43369917  1994 EDU0101     \n 9 UNITED STATES 00000         43993459  1995 EDU0101     \n10 UNITED STATES 00000         44715737  1996 EDU0101"
  },
  {
    "objectID": "Prjt 1 pdf.html#question-5-county-level-new-variable",
    "href": "Prjt 1 pdf.html#question-5-county-level-new-variable",
    "title": "Project 1",
    "section": "Question 5 County level new variable",
    "text": "Question 5 County level new variable\n\ncounty_tibble |&gt;\nmutate(state = substr(area_name, nchar(area_name) - 1, nchar(area_name))\n)\n\n# A tibble: 31,450 × 6\n   area_name   STCOU enrollment_value  year survey_value state\n   &lt;chr&gt;       &lt;chr&gt;            &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;        &lt;chr&gt;\n 1 Autauga, AL 01001             6829  1987 EDU0101      AL   \n 2 Autauga, AL 01001             6900  1988 EDU0101      AL   \n 3 Autauga, AL 01001             6920  1989 EDU0101      AL   \n 4 Autauga, AL 01001             6847  1990 EDU0101      AL   \n 5 Autauga, AL 01001             7008  1991 EDU0101      AL   \n 6 Autauga, AL 01001             7137  1992 EDU0101      AL   \n 7 Autauga, AL 01001             7152  1993 EDU0101      AL   \n 8 Autauga, AL 01001             7381  1994 EDU0101      AL   \n 9 Autauga, AL 01001             7568  1995 EDU0101      AL   \n10 Autauga, AL 01001             7834  1996 EDU0101      AL   \n# ℹ 31,440 more rows"
  },
  {
    "objectID": "Prjt 1 pdf.html#question-6-non-county-division",
    "href": "Prjt 1 pdf.html#question-6-non-county-division",
    "title": "Project 1",
    "section": "Question 6 Non-county “division”",
    "text": "Question 6 Non-county “division”\n\nnoncounty_tibble |&gt;\n  mutate(division = if_else (area_name %in% state.name,\n  state.division [match(area_name, state.name)], \"ERROR\")\n  )\n\n# A tibble: 530 × 6\n   area_name     STCOU enrollment_value  year survey_value division\n   &lt;chr&gt;         &lt;chr&gt;            &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;        &lt;chr&gt;   \n 1 UNITED STATES 00000         40024299  1987 EDU0101      ERROR   \n 2 UNITED STATES 00000         39967624  1988 EDU0101      ERROR   \n 3 UNITED STATES 00000         40317775  1989 EDU0101      ERROR   \n 4 UNITED STATES 00000         40737600  1990 EDU0101      ERROR   \n 5 UNITED STATES 00000         41385442  1991 EDU0101      ERROR   \n 6 UNITED STATES 00000         42088151  1992 EDU0101      ERROR   \n 7 UNITED STATES 00000         42724710  1993 EDU0101      ERROR   \n 8 UNITED STATES 00000         43369917  1994 EDU0101      ERROR   \n 9 UNITED STATES 00000         43993459  1995 EDU0101      ERROR   \n10 UNITED STATES 00000         44715737  1996 EDU0101      ERROR   \n# ℹ 520 more rows"
  }
]